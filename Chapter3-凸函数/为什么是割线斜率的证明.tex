\documentclass[12pt,a4paper]{article}
\usepackage[UTF8]{ctex}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{geometry}
\geometry{left=2.5cm,right=2.5cm,top=2.5cm,bottom=2.5cm}

\title{为什么 $\frac{f(x + \theta(y - x)) - f(x)}{\theta}$ 是割线斜率？}
\author{}
\date{\today}

\begin{document}

\maketitle

\section{问题提出}

在凸函数一阶条件的证明中，我们遇到表达式：

\begin{equation}
\frac{f(x + \theta(y - x)) - f(x)}{\theta}
\end{equation}

\textbf{问题}：为什么这个表达式是割线的斜率？如何理解？

\section{割线斜率的标准公式}

\subsection{两点间的割线斜率}

\textbf{标准公式}：连接两点 $A = (x_1, y_1)$ 和 $B = (x_2, y_2)$ 的直线斜率为：

\begin{equation}
m = \frac{y_2 - y_1}{x_2 - x_1} = \frac{\Delta y}{\Delta x}
</equation>

\textbf{含义}：
\begin{itemize}
\item 斜率 = 纵坐标差 / 横坐标差
\item 表示直线的倾斜程度
\end{itemize}

\section{分析表达式中的两点}

\subsection{确定两个点}

\textbf{点 A}：$(x, f(x))$
\begin{itemize}
\item 横坐标：$x$
\item 纵坐标：$f(x)$
\end{itemize}

\textbf{点 B}：$(x + \theta(y - x), f(x + \theta(y - x)))$
\begin{itemize}
\item 横坐标：$x + \theta(y - x)$
\item 纵坐标：$f(x + \theta(y - x))$
\end{itemize}

\subsection{计算横坐标差}

\textbf{横坐标差}（$\Delta x$）：

\begin{align}
\Delta x &= (x + \theta(y - x)) - x \\
&= x + \theta(y - x) - x \\
&= \theta(y - x)
\end{align}

\subsection{计算纵坐标差}

\textbf{纵坐标差}（$\Delta y$）：

\begin{align}
\Delta y &= f(x + \theta(y - x)) - f(x)
\end{align}

\section{标准割线斜率公式}

\subsection{应用标准公式}

\textbf{割线斜率}（标准公式）：

\begin{equation}
m_{\text{secant}} = \frac{\Delta y}{\Delta x} = \frac{f(x + \theta(y - x)) - f(x)}{\theta(y - x)}
\end{equation}

\textbf{注意}：这是标准的割线斜率公式，分母是 $\theta(y - x)$。

\section{为什么表达式是 $\frac{f(x + \theta(y - x)) - f(x)}{\theta}$？}

\subsection{关键观察}

\textbf{表达式}：$\frac{f(x + \theta(y - x)) - f(x)}{\theta}$

\textbf{分析}：
\begin{itemize}
\item 分子：$f(x + \theta(y - x)) - f(x)$ = 纵坐标差 $\Delta y$ ✓
\item 分母：$\theta$ ≠ 横坐标差 $\Delta x = \theta(y - x)$ ✗
\end{itemize}

\textbf{问题}：分母是 $\theta$，而不是 $\theta(y - x)$，所以这不是标准的割线斜率！

\subsection{重新理解：方向导数视角}

\textbf{关键理解}：这个表达式不是标准的割线斜率，而是\textbf{方向导数}的表达式。

\textbf{方向导数}：函数 $f$ 在点 $x$ 处沿方向 $v$ 的方向导数定义为：

\begin{equation}
D_v f(x) = \lim_{t \to 0} \frac{f(x + tv) - f(x)}{t}
</equation>

\textbf{在我们的情况中}：
\begin{itemize}
\item 方向：$v = y - x$
\item 参数：$t = \theta$
\item 表达式：$\frac{f(x + \theta(y - x)) - f(x)}{\theta} = \frac{f(x + tv) - f(x)}{t}$
\end{itemize}

\textbf{结论}：这是方向导数的表达式，不是标准的割线斜率。

\section{两种理解方式}

\subsection{方式1：标准割线斜率}

\textbf{割线连接两点}：
\begin{itemize}
\item 点 A：$(x, f(x))$
\item 点 B：$(x + \theta(y - x), f(x + \theta(y - x)))$
\end{itemize}

\textbf{标准割线斜率}：

\begin{equation}
m_{\text{secant}} = \frac{f(x + \theta(y - x)) - f(x)}{\theta(y - x)}
</equation>

\textbf{几何意义}：这是连接两点 A 和 B 的直线的斜率。

\subsection{方式2：方向导数（参数化视角）}

\textbf{参数化直线}：

考虑参数化的直线：$x(t) = x + t(y - x)$，其中 $t \in [0, 1]$。

\textbf{函数沿直线的值}：$f(x(t)) = f(x + t(y - x))$

\textbf{方向导数}：

\begin{equation}
\frac{d}{dt} f(x(t)) \Big|_{t=0} = \lim_{t \to 0} \frac{f(x + t(y - x)) - f(x)}{t}
</equation>

\textbf{当 $t = \theta$ 时}：

\begin{equation}
\frac{f(x + \theta(y - x)) - f(x)}{\theta}
</equation>

\textbf{几何意义}：
\begin{itemize}
\item 这是函数沿方向 $(y - x)$ 的平均变化率
\item 当 $\theta$ 很小时，近似于方向导数
\item 不是标准的割线斜率，但与割线斜率相关
\end{itemize}

\section{两者的关系}

\subsection{关系式}

\textbf{标准割线斜率}：

\begin{equation}
m_{\text{secant}} = \frac{f(x + \theta(y - x)) - f(x)}{\theta(y - x)}
</equation>

\textbf{方向导数表达式}：

\begin{equation}
\frac{f(x + \theta(y - x)) - f(x)}{\theta}
</equation>

\textbf{关系}：

\begin{equation}
\frac{f(x + \theta(y - x)) - f(x)}{\theta} = (y - x) \cdot m_{\text{secant}}
</equation>

\textbf{含义}：
\begin{itemize}
\item 方向导数表达式 = 方向长度 × 割线斜率
\item 两者成正比，比例系数是 $(y - x)$
\end{itemize}

\section{在证明中的使用}

\subsection{为什么使用这个表达式？}

\textbf{在凸函数证明中}，我们使用：

\begin{equation}
\frac{f(x + \theta(y - x)) - f(x)}{\theta} \leq f(y) - f(x)
</equation>

\textbf{原因}：
\begin{itemize}
\item 这个表达式在 $\theta \to 0$ 时趋于方向导数 $f'(x)(y - x)$
\item 这是我们需要的结果
\item 如果使用标准割线斜率，还需要乘以 $(y - x)$
\end{itemize}

\subsection{极限过程}

\textbf{当 $\theta \to 0$ 时}：

\begin{align}
\lim_{\theta \to 0} \frac{f(x + \theta(y - x)) - f(x)}{\theta} &= f'(x)(y - x) \\
&= (y - x) \cdot \lim_{\theta \to 0} \frac{f(x + \theta(y - x)) - f(x)}{\theta(y - x)} \\
&= (y - x) \cdot \lim_{\theta \to 0} m_{\text{secant}} \\
&= (y - x) \cdot f'(x)
\end{align}

\textbf{结论}：
\begin{itemize}
\item 方向导数表达式直接给出 $f'(x)(y - x)$
\item 标准割线斜率给出 $f'(x)$，还需要乘以 $(y - x)$
\end{itemize}

\section{几何直观}

\subsection{标准割线斜率}

\textbf{几何意义}：
\begin{itemize}
\item 连接点 $(x, f(x))$ 和 $(x + \theta(y - x), f(x + \theta(y - x)))$ 的直线
\item 这条直线的斜率是 $m_{\text{secant}} = \frac{f(x + \theta(y - x)) - f(x)}{\theta(y - x)}$
\item 表示函数在区间 $[x, x + \theta(y - x)]$ 上的平均变化率
\end{itemize}

\subsection{方向导数表达式}

\textbf{几何意义}：
\begin{itemize}
\item 考虑参数化的路径：从 $x$ 沿方向 $(y - x)$ 移动
\item 当移动距离为 $\theta$ 时，函数值的变化率
\item 这是沿方向的"变化率"，而不是标准的斜率
\item 当 $\theta \to 0$ 时，趋于方向导数
\end{itemize}

\section{具体例子}

\subsection{例子：$f(x) = x^2$，$x = 1$，$y = 4$}

\textbf{点 A}：$(1, f(1)) = (1, 1)$

\textbf{点 B}：当 $\theta = 0.5$ 时，$x + \theta(y - x) = 1 + 0.5(4 - 1) = 2.5$

点 B：$(2.5, f(2.5)) = (2.5, 6.25)$

\textbf{标准割线斜率}：

\begin{equation}
m_{\text{secant}} = \frac{6.25 - 1}{2.5 - 1} = \frac{5.25}{1.5} = 3.5
</equation>

\textbf{方向导数表达式}：

\begin{equation}
\frac{f(2.5) - f(1)}{0.5} = \frac{5.25}{0.5} = 10.5
</equation>

\textbf{关系验证}：

\begin{equation}
10.5 = (4 - 1) \times 3.5 = 3 \times 3.5 = 10.5 \quad \checkmark
</equation>

\textbf{当 $\theta \to 0$ 时}：

\begin{align}
\lim_{\theta \to 0} \frac{f(1 + \theta(4 - 1)) - f(1)}{\theta} &= \lim_{\theta \to 0} \frac{f(1 + 3\theta) - 1}{\theta} \\
&= \lim_{\theta \to 0} \frac{(1 + 3\theta)^2 - 1}{\theta} \\
&= \lim_{\theta \to 0} \frac{6\theta + 9\theta^2}{\theta} \\
&= \lim_{\theta \to 0} (6 + 9\theta) \\
&= 6 = f'(1)(4 - 1) = 2 \times 3 = 6 \quad \checkmark
</equation>

\section{总结}

\subsection{关键理解}

\begin{enumerate}
\item \textbf{标准割线斜率}：
   \begin{equation}
   m_{\text{secant}} = \frac{f(x + \theta(y - x)) - f(x)}{\theta(y - x)}
   \end{equation}
   \begin{itemize}
   \item 这是连接两点的直线的斜率
   \item 分母是横坐标差 $\theta(y - x)$
   \end{itemize}

\item \textbf{方向导数表达式}：
   \begin{equation}
   \frac{f(x + \theta(y - x)) - f(x)}{\theta}
   \end{equation}
   \begin{itemize}
   \item 这不是标准的割线斜率
   \item 这是方向导数的表达式
   \item 分母是参数 $\theta$，不是横坐标差
   \end{itemize}

\item \textbf{关系}：
   \begin{equation}
   \frac{f(x + \theta(y - x)) - f(x)}{\theta} = (y - x) \cdot m_{\text{secant}}
   \end{equation}
   \begin{itemize}
   \item 方向导数表达式 = 方向长度 × 割线斜率
   \end{itemize}
</enumerate>

\subsection{在证明中的使用}

\begin{enumerate}
\item \textbf{为什么使用方向导数表达式？}
   \begin{itemize}
   \item 当 $\theta \to 0$ 时，直接得到 $f'(x)(y - x)$
   \item 这是证明中需要的结果
   \end{itemize}

\item \textbf{几何意义}：
   \begin{itemize}
   \item 虽然形式上类似割线斜率，但实际上是方向导数
   \item 表示函数沿方向 $(y - x)$ 的变化率
   \end{itemize}
</enumerate>

\subsection{记忆技巧}

\begin{enumerate}
\item \textbf{标准割线斜率}：$\frac{\Delta y}{\Delta x}$，分母是横坐标差

\item \textbf{方向导数表达式}：$\frac{\Delta y}{\theta}$，分母是参数

\item \textbf{区别}：分母不同，含义不同，但相关
</enumerate>

理解这个区别，有助于正确理解凸函数一阶条件的证明过程！

\end{document}

